@using System.Collections
@using Insectic.BLL
@using Insectic.InsecticData

@{
    Layout = "_InsecticDefault";
}
@section LinkOne
{
    <link rel="stylesheet" href="/css/Dashboard.css">
}


@section Title
{CorkBoard}


<div class="left-section">
    <div class="todo-list">
        <table>
            <h2 id=table-header>Todo://</h2>
            <thead>
                <tr>
                    <th>Item</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td id="ticket-id">#Razor ID</td>
                    <td>#Razor Desc</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="right-section">
    <div class="top-boxes">
        <div class="box4-1 urgent">
            <div class="insideTop ">
                <h1>@TicketLogic.CountTicketCategory().Item1</h1>
                <h3> Urgent </h3>
                 
            </div>
            <div class="insideBottom">
                <table>
                    <thead>
                        <tr>
                            <th colspan="3">Urgent Priority Tickets</th>
                        </tr>
                        <tr>
                            <th>Ticket Id</th>
                            <th>Ticket Description</th>
                            <th>Ticket status</th>
                        </tr>
                    </thead>
                    <tbody>
                    
                  
                    @foreach (var ticket in TicketApiRepository.GetAllTickets().Where(x=> x.Priority.ToLower().Equals("urgent") && x.Status.ToLower() != "closed"))
                    {
                        <tr>
                            <td>@ticket.TicketId</td>
                            <td>@TicketLogic.TruncateAtWord(ticket)</td>
                            <td>@ticket.Status</td>
                        </tr>
                    }

                    </tbody>
                </table>
            </div>
        </div>
        <div class="box4-1 box-two">
            <div class="insideTop">
                <h1>@TicketLogic.CountTicketCategory().Item3</h1>
                <h3> Routine </h3>
            </div>
            <div class="insideBottom">
                <table>
                    <thead>
                        <tr>
                            <th colspan="3">Routine Priority Tickets</th>
                        </tr>
                        <tr>
                            <th>Ticket Id</th>
                            <th>Ticket Description</th>
                            <th>Ticket status</th>
                        </tr>
                    </thead>
                    <tbody>
                    @foreach (var ticket in TicketApiRepository.GetAllTickets().Where(x=> x.Priority.ToLower().Equals("routine") && x.Status.ToLower() != "closed"))
                    {
                        
                        <tr>
                            <td>@ticket.TicketId</td>
                            <td>@ticket.TicketDescription</td>
                            <td>@ticket.Status</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="bottom-boxes">
        <div class="box4-1 reg box-four">
            <div class="insideTop ">
                <h1>@TicketLogic.CountTicketCategory().Item2</h1>
                <h3> High</h3>
            </div>
            <div class="insideBottom">
                <table>
                    <thead>
                        <tr>
                            <th colspan="3">High Priority Tickets</th>
                        </tr>
                        <tr>
                            <th>Ticket Id</th>
                            <th>Ticket Description</th>
                            <th>Ticket status</th>
                        </tr>
                    </thead>
                    <tbody>
                    @foreach (var ticket in TicketApiRepository.GetAllTickets().Where(x=> x.Priority.ToLower().Equals("high") && x.Status.ToLower() != "closed"))
                    {
                        Console.WriteLine(ticket.TicketId);
                        <tr>
                            <td>@ticket.TicketId</td>
                            <td>@ticket.TicketDescription</td>
                            <td>@ticket.Status</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="box4-1 reg box-three">
            <div class="insideTop">
                <h1>@TicketLogic.CountTicketCategory().Item4</h1>
                <h3> Low</h3>
            </div>
            <div class="insideBottom">
                <table>
                    <thead>
                        <tr>
                            <th colspan="3">Low Priority Tickets</th>
                        </tr>
                        <tr>
                            <th>Ticket Id</th>
                            <th>Ticket Description</th>
                            <th>Ticket status</th>
                        </tr>
                    </thead>
                    <tbody>
                    @foreach (var ticket in TicketApiRepository.GetAllTickets().Where(x=> x.Priority.ToLower().Equals("low") && x.Status.ToLower() != "closed"))
                    {
                        Console.WriteLine(ticket.TicketId);
                        <tr>
                            <td>@ticket.TicketId</td>
                            <td>@ticket.TicketDescription</td>
                            <td>@ticket.Status</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>